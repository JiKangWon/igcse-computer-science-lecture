<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 9: Databases (Single-Table)</title>
    <style>
        /* --- Cài đặt CSS cho trang web học tập --- */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.07);
            overflow: hidden;
        }

        /* --- Header của bài giảng --- */
        header {
            /* Tông màu Xanh lá (Green) cho chủ đề Data/Databases */
            background: linear-gradient(135deg, #1d6f42, #28a745, #1e8449);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 2.8em;
            font-weight: 700;
        }
        
        header p {
            margin: 5px 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* --- Thanh điều hướng (NavBar) --- */
        nav {
            background: #f9f9f9;
            padding: 15px 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav a {
            text-decoration: none;
            color: #1d6f42; /* Match theme */
            margin: 5px 15px;
            font-weight: 600;
            font-size: 1.1em;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #28a745;
            text-decoration: underline;
        }

        /* --- Nội dung chính --- */
        main {
            padding: 30px 40px;
        }

        section {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
            scroll-margin-top: 80px;
        }

        section:last-child {
            border-bottom: none;
        }

        /* --- Tiêu đề các cấp --- */
        h2 {
            font-size: 2.2em;
            color: #1d6f42; /* Match theme */
            border-bottom: 3px solid #28a745;
            padding-bottom: 10px;
            margin-top: 0;
        }

        h3 {
            font-size: 1.8em;
            color: #1a1a1a;
            margin-top: 30px;
        }

        h4 {
            font-size: 1.4em;
            color: #333;
            margin-top: 25px;
            margin-bottom: 10px;
        }

        /* --- Bảng biểu --- */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 12px 15px;
            border: 1px solid #ddd;
            text-align: left;
        }

        th {
            background-color: #1d6f42;
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        /* Định dạng SQL */
        code.sql {
            display: block;
            background-color: #1e1e1e; /* Dark bg */
            color: #d4d4d4; /* Light text */
            padding: 15px;
            border-radius: 5px;
            font-family: "Consolas", "Courier New", monospace;
            font-size: 1.1em;
            border: 1px solid #3a3a3a;
            white-space: pre-wrap; /* Wrap long lines */
        }
        
        code.sql .keyword {
            color: #569cd6; /* Blue (keywords) */
            font-weight: 700;
        }
        
        code.sql .string {
            color: #ce9178; /* Orange (strings) */
        }
        
        code.sql .operator {
            color: #d4d4d4; /* White */
        }

        /* Danh sách */
        ul, ol {
            padding-left: 25px;
        }

        li {
            margin-bottom: 10px;
        }

        /* Trích dẫn (Analogy) */
        blockquote {
            border-left: 5px solid #28a745; /* Match theme */
            background: #f0fff4;
            padding: 20px;
            margin: 20px 0;
            font-style: italic;
            font-size: 1.1em;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Chapter 9: Single-Table Databases</h1>
            <p>Course: Computer Science (IGCSE Level)</p>
        </header>

        <nav>
            <a href="#objectives">Objectives</a>
            <a href="#core-concepts">Core Concepts</a>
            <a href="#data-types">Data Types</a>
            <a href="#primary-keys">Primary Keys</a>
            <a href="#sql">SQL</a>
            <a href="#activities">Activities</a>
        </nav>

        <main>
            <section id="objectives">
                <h2>I. Learning Objectives</h2>
                <p>Upon completing this chapter, students will learn about:</p>
                <ul>
                    <li>The design and use of single table databases, including: Fields, Records, and Validation.</li>
                    <li>The use of basic data types: Text/alphanumeric, Character, Boolean, Integer, Real, Date/time.</li>
                    <li>The identification, purpose, and use of primary keys.</li>
                    <li>SQL scripts, which are used to query data stored in a single table database.</li>
                </ul>
            </section>

            <section id="core-concepts">
                <h2>II. Core Concepts (9.1 Databases)</h2>

                <h3>1. Definition and Application</h3>
                <p>A <strong>database</strong> is defined as a structured collection of data that enables people to extract information according to their needs. This data can consist of text, numbers, pictures, or anything storable in a computer.</p>
                <ul>
                    <li><strong>Scope:</strong> At the IGCSE level, students only study <strong>single-table databases</strong>.</li>
                    <li><strong>Usefulness:</strong> Databases prevent problems because data is consistent (changed once), the same data is used by everyone, and there is no data duplication.</li>
                    <li><strong>Storage:</strong> Used to store information about people (patients), things (books), or events (bookings).</li>
                </ul>

                <h3>2. Fields and Records – The Building Blocks (9.1.1)</h3>
                <p>Data is stored in tables, composed of records, which consist of fields.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Key Term</th>
                            <th>Definition</th>
                            <th>Role/Structure</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Table</strong></td>
                            <td>A collection of related records.</td>
                            <td>The overall structure (e.g., PATIENT).</td>
                        </tr>
                        <tr>
                            <td><strong>Record</strong></td>
                            <td>A collection of fields that describe one item.</td>
                            <td>Represents a <strong>row</strong> in the table.</td>
                        </tr>
                        <tr>
                            <td><strong>Field</strong></td>
                            <td>A specific piece of information about the item.</td>
                            <td>Represents a <strong>column</strong>. The number of fields is fixed. Field names must be a single word (e.g., FirstName).</td>
                        </tr>
                    </tbody>
                </table>

                <h3>3. Validation</h3>
                <p><strong>Validation</strong> is the process used to ensure that data entry is correct and appropriate.</p>
                <ul>
                    <li><strong>Automatic Validation:</strong> Provided by the DBMS (e.g., checking if a date is a valid date).</li>
                    <li><strong>Developer-set Validation:</strong> Set up by the developer (e.g., WardNumber field must be a whole number from 1 to 10).</li>
                </ul>
            </section>

            <section id="data-types">
                <h2>III. Basic Data Types (9.1.2)</h2>
                <p>A data type classifies how data is stored, displayed, and which operations can be performed. There are six basic data types:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Syllabus Data Type</th>
                            <th>Description</th>
                            <th>Access Data Type</th>
                            <th>SQL/General Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>text/alphanumeric</strong></td>
                            <td>A number of characters.</td>
                            <td>Short text/Long text.</td>
                            <td>SQL uses VARCHAR(n).</td>
                        </tr>
                        <tr>
                            <td><strong>character</strong></td>
                            <td>A single character.</td>
                            <td>Short text (size 1).</td>
                            <td>SQL uses CHAR(1).</td>
                        </tr>
                        <tr>
                            <td><strong>Boolean</strong></td>
                            <td>True/False, 1/0, or Yes/No.</td>
                            <td>Yes/No.</td>
                            <td>SQL often uses 1 (True) and 0 (False).</td>
                        </tr>
                        <tr>
                            <td><strong>integer</strong></td>
                            <td>Whole number.</td>
                            <td>Number (fixed, 0 decimals).</td>
                            <td>Whole numbers.</td>
                        </tr>
                        <tr>
                            <td><strong>real</strong></td>
                            <td>A decimal number.</td>
                            <td>Number (decimal).</td>
                            <td>Numbers with decimal places.</td>
                        </tr>
                        <tr>
                            <td><strong>date/time</strong></td>
                            <td>Date and/or time.</td>
                            <td>Date/Time.</td>
                            <td>SQL uses DATE (YYYY-MM-DD).</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="primary-keys">
                <h2>IV. Primary Keys (9.1.3)</h2>
                <p>The <strong>primary key</strong> is a field in a database whose essential purpose is to <strong>uniquely identify a record</strong>.</p>
                <p><strong>Key Requirement:</strong> A field chosen as the primary key must contain data values that are <strong>never repeated</strong> within the table.</p>
                <p>This may be an existing field (e.g., ISBN for a book) or an extra field added for this purpose (e.g., HospitalNumber for a patient).</p>
            </section>

            <section id="sql">
                <h2>V. Structured Query Language (SQL) (9.1.4)</h2>
                <p><strong>Structured Query Language (SQL)</strong> is the standard query language used for writing scripts to obtain useful information from a database. An SQL script is a list of SQL commands.</p>

                <h3>1. SQL Query Statements (Data Manipulation Language - DML)</h3>
                <p>An SQL command must begin with <code>SELECT</code> and end with a semicolon (<code>;</code>).</p>
                <table>
                    <thead>
                        <tr>
                            <th>SQL Command</th>
                            <th>Description</th>
                            <th>Syntax Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SELECT</strong></td>
                            <td>Fetches specified fields (columns).</td>
                            <td><code>SELECT Field1, Field2</code> or <code>SELECT *</code> (all fields).</td>
                        </tr>
                        <tr>
                            <td><strong>FROM</strong></td>
                            <td>Identifies the table to use.</td>
                            <td><code>FROM TableName</code>.</td>
                        </tr>
                        <tr>
                            <td><strong>WHERE</strong></td>
                            <td>Includes only records (rows) that match a condition.</td>
                            <td><code>WHERE Condition</code>.</td>
                        </tr>
                        <tr>
                            <td><strong>ORDER BY</strong></td>
                            <td>Sorts the results by a given column.</td>
                            <td>Default is ascending. Use <code>DESC</code> for descending.</td>
                        </tr>
                        <tr>
                            <td><strong>SUM</strong></td>
                            <td>Returns the sum of all values in a field.</td>
                            <td>Used with <code>SELECT</code>.</td>
                        </tr>
                        <tr>
                            <td><strong>COUNT</strong></td>
                            <td>Counts the number of records matching a condition.</td>
                            <td>Used with <code>SELECT</code>.</td>
                        </tr>
                    </tbody>
                </table>

                <h3>2. Conditions and Data Formatting in WHERE Clauses</h3>
                <p>Values in <code>WHERE</code> conditions must match the data type:</p>
                <ul>
                    <li><strong>Text/Character:</strong> Must be in single quotation marks (e.g., <code>'Mr Smith'</code>, <code>'M'</code>).</li>
                    <li><strong>Date/Time (Access):</strong> Must be in hashes (e.g., <code>#22/11/2022#</code>).</li>
                    <li><strong>Integer/Real/Boolean:</strong> Should not have quotation marks (e.g., <code>12</code>, <code>TRUE</code>).</li>
                </ul>
                <p><strong>Operators:</strong> <code>=</code>, <code><></code> (not equal), <code>></code>, <code><=</code>, <code>BETWEEN</code>, <code>AND</code>, <code>OR</code>, <code>NOT</code>.</p>

                <h4>Example SQL Query:</h4>
                <p>To display the hospital number, first name, and family name of all patients treated by 'Mr Smith':</p>
                <code class="sql">
                    <span class="keyword">SELECT</span> HospitalNumber, FirstName, FamilyName<br>
                    <span class="keyword">FROM</span> PATIENT<br>
                    <span class="keyword">WHERE</span> Consultant <span class="operator">=</span> <span class="string">'Mr Smith'</span>;
                </code>
            </section>

            <section id="activities">
                <h2>VI. Practical Application and Activities</h2>
                <p>Students are encouraged to use a DBMS (like MS Access 365) to gain practical experience.</p>
                <ol>
                    <li><strong>Database Setup:</strong> Set up the PATIENT table.</li>
                    <li><strong>Data Typing and Validation:</strong> Choose data types and add validation (e.g., WardNumber between 1 and 10).</li>
                    <li><strong>Primary Key Setup:</strong> Add the primary key field (e.g., HospitalNumber) and include validation.</li>
                    <li><strong>Query Practice:</strong> Practice writing SQL queries using <code>SELECT</code>, <code>WHERE</code>, <code>BETWEEN</code>, <code>COUNT</code>, and <code>ORDER BY</code>.</li>
                </ol>
            </section>

            <section id="extension">
                <h2>VII. Extension: SQL DDL and Relational Concepts (A Level)</h2>
                <p>For A Level, the scope extends to relational databases (multiple tables).</p>
                <ul>
                    <li><strong>Data Definition Language (DDL):</strong> Used to create/modify data structures (e.g., <code>CREATE DATABASE</code>, <code>CREATE TABLE</code>, <code>ALTER TABLE</code>).</li>
                    <li><strong>Data Manipulation Language (DML):</strong> Used to add, modify, delete, and retrieve data (e.g., <code>SELECT</code>, <code>FROM</code>, <code>WHERE</code>).</li>
                </ul>
                
                <h3>Analogy to solidify understanding</h3>
                <blockquote>
                    <p>Think of a single-table database as a highly organized physical ledger.</p>
                    <ul>
                        <li>The <strong>Table</strong> is the entire ledger book itself (e.g., Patient Records).</li>
                        <li>Each <strong>Record</strong> is a completed page in that ledger, detailing one specific patient.</li>
                        <li>Each <strong>Field</strong> is a pre-labeled blank line on every page (like "First Name" or "Bed Number").</li>
                        <li>The <strong>Primary Key</strong> is the unique, stamped ID number that ensures no two pages describe the same person.</li>
                        <li><strong>SQL</strong> is the search engine function: you tell the system, "Fetch (<code>SELECT</code>) the names and ward numbers <code>FROM</code> this ledger (<code>PATIENT</code>) <code>WHERE</code> the consultant is 'Mr Smith'."</li>
                    </ul>
                </blockquote>
            </section>
        </main>
    </div>

</body>
</html>
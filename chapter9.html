<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 9: Databases - Lecture</title>
    <!-- Ghi chú: Đây là tệp HTML đầy đủ cho trang Bài giảng (Lecture) -->
    <style>
        /* CSS Variables cho chủ đề màu */
        :root {
            --primary-blue: #005a9e; /* Màu xanh đậm chuyên nghiệp */
            --light-blue: #007bff;
            --sidebar-bg: #f8f9fa;   /* Màu nền thanh công cụ bên trái */
            --content-bg: #ffffff;   /* Màu nền nội dung */
            --header-bg: var(--primary-blue);
            --header-text: #ffffff;
            --text-dark: #212529;
            --text-light: #495057;
            --border-color: #dee2e6;
            --hover-bg: #e9ecef;
        }

        /* Thiết lập lại (Reset) và Kiểu dáng chung */
        body, html {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: var(--content-bg);
        }

        /* Bố cục ứng dụng */
        .app-layout {
            display: flex;
            height: 100vh;
        }

        /* Header cố định */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background-color: var(--header-bg);
            color: var(--header-text);
            display: flex;
            align-items: center;
            padding: 0 2rem;
            font-size: 1.5rem;
            font-weight: 600;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Thanh công cụ bên trái (Sidebar) */
        .sidebar {
            position: fixed;
            top: 60px; /* Bên dưới header */
            left: 0;
            width: 280px;
            height: calc(100vh - 60px); /* Chiều cao còn lại */
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 1rem;
            overflow-y: auto; /* Cho phép cuộn nếu nhiều chương */
            z-index: 900;
        }

        .sidebar-nav {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-nav li {
            margin-bottom: 5px;
        }

        /* Kiểu dáng các mục trong Chapter */
        .nav-chapter-toggle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            font-weight: 600;
            color: var(--primary-blue);
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .nav-chapter-toggle:hover {
            background-color: var(--hover-bg);
        }

        /* Biểu tượng mũi tên (chevron) */
        .nav-chapter-toggle::after {
            content: '▼';
            font-size: 0.8em;
            transition: transform 0.2s;
        }

        .nav-chapter-toggle.active::after {
            transform: rotate(180deg);
        }
        
        /* Mục bị vô hiệu hóa (placeholder) */
        .nav-chapter-toggle.disabled {
            color: #aaa;
            background-color: #fdfdfd;
            cursor: not-allowed;
        }
        .nav-chapter-toggle.disabled:hover {
            background-color: #fdfdfd;
        }
        .nav-chapter-toggle.disabled::after {
            content: '';
        }

        /* Menu con (Lecture, Exercises) */
        .nav-submenu {
            list-style: none;
            padding: 5px 0 5px 15px; /* Thụt lề */
            margin: 0;
            display: none; /* Ẩn theo mặc định */
        }

        .nav-submenu li a {
            display: block;
            padding: 8px 15px;
            text-decoration: none;
            color: var(--text-light);
            border-radius: 5px;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.95rem;
        }

        .nav-submenu li a:hover {
            background-color: var(--hover-bg);
            color: var(--text-dark);
        }
        
        .nav-submenu li a.active {
            background-color: var(--light-blue);
            color: white;
            font-weight: 500;
        }

        /* Khu vực nội dung chính */
        .main-content {
            margin-top: 60px;  /* Khoảng cách với header */
            margin-left: 280px; /* Khoảng cách với sidebar */
            padding: 2rem;
            width: calc(100% - 280px); /* Chiều rộng còn lại */
            overflow-y: auto; /* Cho phép cuộn nội dung */
            height: calc(100vh - 60px);
        }

        /* * Lớp .content-page 
         * Tất cả các trang nội dung sẽ có lớp này và bị ẩn.
         * JS sẽ hiển thị trang được chọn.
        */
        .content-page {
            display: none;
        }
        
        /* Hiển thị trang đang hoạt động */
        .content-page.active {
            display: block;
        }

        /* Kiểu dáng nội dung bài giảng */
        .lecture-content h1 {
            color: var(--primary-blue);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .lecture-content h2 {
            color: var(--text-dark);
            margin-top: 2rem;
        }
        
        .lecture-content h3 {
            color: var(--text-light);
            margin-top: 1.5rem;
        }
        
        .lecture-content p, 
        .lecture-content ul, 
        .lecture-content ol {
            margin-bottom: 1rem;
        }

        .lecture-content li {
            margin-bottom: 0.5rem;
        }
        
        .lecture-content code {
            font-family: "Courier New", Courier, monospace;
            background-color: #f1f1f1;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .lecture-content pre {
            background-color: #f8f9fa;
            border: 1px solid var(--border-color);
            border-left: 5px solid var(--light-blue);
            padding: 15px;
            border-radius: 5px;
            font-family: "Courier New", Courier, monospace;
            font-size: 0.95rem;
            overflow-x: auto;
            white-space: pre-wrap; /* Cho phép xuống dòng */
        }

        /* Bảng (Table) */
        .lecture-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .lecture-content th, 
        .lecture-content td {
            border: 1px solid var(--border-color);
            padding: 10px;
            text-align: left;
        }

        .lecture-content th {
            background-color: var(--sidebar-bg);
            font-weight: 600;
        }
        
        /* Hộp bài tập */
        .exercise-box {
            background-color: var(--content-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .exercise-box h3 {
            margin-top: 0;
            color: var(--primary-blue);
        }
        
        /* Footer */
        .app-footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
            border-top: 1px solid var(--border-color);
            font-size: 0.9rem;
            color: #777;
        }
    </style>
</head>
<body>

    <!-- 1. HEADER -->
    <header class="app-header">
        Computer Science Course Portal
    </header>

    <!-- Bố cục chính -->
    <div class="app-layout">
        
        <!-- 2. SIDEBAR (Thanh công cụ bên trái) -->
        <aside class="sidebar">
            <nav>
                <ul class="sidebar-nav">
                    
                    <!-- Mục 1: Placeholder -->
                    <li>
                        <div class="nav-chapter-toggle disabled">Chapter 1: Introduction</div>
                    </li>
                    
                    <!-- Mục 2: Placeholder -->
                    <li>
                        <div class="nav-chapter-toggle disabled">Chapter 2: Algorithms</div>
                    </li>

                    <!-- ... Thêm các chapter khác ở đây ... -->
                    
                    <!-- Mục 9: Nội dung từ PDF -->
                    <li>
                        <div class="nav-chapter-toggle" id="toggle-ch9">Chapter 9: Databases</div>
                        <ul class="nav-submenu" id="submenu-ch9">
                            <!-- ĐÁNH DẤU 'active' cho trang này -->
                            <li><a href="chapter9.html" class="nav-link active">Lecture</a></li>
                            <li><a href="exr_chapter9.html" class="nav-link">Exercises</a></li>
                        </ul>
                    </li>
                    
                </ul>
            </nav>
        </aside>

        <!-- 3. MAIN CONTENT (Nội dung chính) -->
        <main class="main-content">
        
            <!-- Trang Chào mừng (ĐÃ BỊ XÓA) -->
            
            <!-- 
            =================================================
            NỘI DUNG CHAPTER 9 (TỪ PDF)
            =================================================
            -->
            
            <!-- Trang Bài giảng Chapter 9 (HIỂN THỊ) -->
            <div class="content-page lecture-content active" id="ch9-lecture">
                <h1>Chapter 9: Databases</h1>
                
                <h2>9.1.1 Single-table databases</h2>
                <p>A <strong>database</strong> is a structured collection of data that allows people to extract information in a way that meets their needs. The data can include text, numbers, pictures; anything that can be stored in a computer. For IGCSE, only single-table databases (a database with only one table) will be studied.</p>

                <h3>Why are databases useful?</h3>
                <ul>
                    <li>If any changes or additions are made, it only has to be done once (data is consistent).</li>
                    <li>The same data is used by everyone.</li>
                    <li>Data is only stored once, which means no data duplication.</li>
                </ul>

                <h3>What are databases used for?</h3>
                <ul>
                    <li><strong>People:</strong> patients in a hospital, pupils at a school.</li>
                    <li><strong>Things:</strong> cars to be sold, books in a library.</li>
                    <li><strong>Events:</strong> hotel bookings, results of races.</li>
                </ul>
                
                <hr>

                <h3>Fields and Records</h3>
                <p>Inside a database, data is stored in <strong>tables</strong>. Each table consists of many <strong>records</strong>. Each record consists of several <strong>fields</strong>.</p>
                <ul>
                    <li><strong>Record:</strong> A single row in the table. It contains all data about a single item, person, or event (e.g., all information about one patient).</li>
                    <li><strong>Field:</strong> A single column in the table. It contains a specific piece of information (e.g., <code>FirstName</code>, <code>DateOfAdmission</code>).</li>
                </ul>
                
                <h3>Validation</h3>
                <p>Validation checks are used to ensure that data is sensible and reasonable before it is stored. Some checks are automatic (like checking for a valid date in a Date/Time field), while others must be set up by the developer (e.g., ensuring <code>WardNumber</code> is between 1 and 10).</p>

                <hr>
                
                <h2>9.1.2 Basic Data Types</h2>
                <p>A data type classifies how data is stored and what operations can be performed on it.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Syllabus Data Type</th>
                            <th>Description</th>
                            <th>Example (Access Data Type)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>text/alphanumeric</strong></td>
                            <td>A number of characters (letters, numbers, symbols).</td>
                            <td>Short Text / Long Text</td>
                        </tr>
                        <tr>
                            <td><strong>character</strong></td>
                            <td>A single character.</td>
                            <td>Short Text (with Field Size of 1)</td>
                        </tr>
                        <tr>
                            <td><strong>Boolean</strong></td>
                            <td>One of two values: True/False, Yes/No, 1/0.</td>
                            <td>Yes/No</td>
                        </tr>
                        <tr>
                            <td><strong>integer</strong></td>
                            <td>A whole number.</td>
                            <td>Number (Fixed, 0 decimal places)</td>
                        </tr>
                        <tr>
                            <td><strong>real</strong></td>
                            <td>A decimal number.</td>
                            <td>Number (Decimal)</td>
                        </tr>
                        <tr>
                            <td><strong>date/time</strong></td>
                            <td>Stores date and/or time values.</td>
                            <td>Date/Time</td>
                        </tr>
                    </tbody>
                </table>
                
                <hr>

                <h2>9.1.3 Primary Keys</h2>
                <p>A <strong>primary key</strong> is a field that uniquely identifies every record in a table. The value in this field must be unique for each record (it can never be repeated).</p>
                <p>For example, in a <code>PATIENT</code> table, <code>FirstName</code> is not a good primary key (you can have two patients named John). A field like <code>HospitalNumber</code> (e.g., HN123456) would be a good primary key because it is unique to each patient.</p>

                <hr>
                
                <h2>9.1.4 SQL (Structured Query Language)</h2>
                <p>SQL is the standard language used to query (ask questions) and get information from a database.</p>
                
                <h3>Common SQL Query Statements</h3>
                <table>
                    <thead>
                        <tr><th>Statement</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>SELECT</code></td><td>Fetches specified fields (columns) from a table.</td></tr>
                        <tr><td><code>FROM</code></td><td>Identifies the table to use.</td></tr>
                        <tr><td><code>WHERE</code></td><td>Includes only records (rows) that match a specific condition.</td></tr>
                        <tr><td><code>ORDER BY</code></td><td>Sorts the results (e.g., alphabetically, numerically).</td></tr>
                        <tr><td><code>SUM</code></td><td>Returns the total sum of a numeric field.</td></tr>
                        <tr><td><code>COUNT</code></td><td>Counts the number of records that match a condition.</td></tr>
                    </tbody>
                </table>

                <h3>Common SQL Operators (used with <code>WHERE</code>)</h3>
                <table>
                    <thead>
                        <tr><th>Operator</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>=</code></td><td>equal to</td></tr>
                        <tr><td><code><></code></td><td>not equal to</td></tr>
                        <tr><td><code>></code></td><td>greater than</td></tr>
                        <tr><td><code><</code></td><td>less than</td></tr>
                        <tr><td><code>>=</code></td><td>greater than or equal to</td></tr>
                        <tr><td><code><=</code></td><td>less than or equal to</td></tr>
                        <tr><td><code>BETWEEN</code></td><td>between a range of two values</td></tr>
                        <tr><td><code>LIKE</code></td><td>search for a pattern (e.g., <code>LIKE 'Mr*'</code>)</td></tr>
                        <tr><td><code>AND</code></td><td>specifies multiple conditions that must ALL be true</td></tr>
                        <tr><td><code>OR</code></td><td>specifies multiple conditions where at least ONE must be true</td></tr>
                    </tbody>
                </table>

                <h3>SQL Example 1: Display consultant's patients</h3>
                <p>This SQL command would provide a list of all Mr Smith's patients.</p>
                <pre><code>
SELECT HospitalNumber, FirstName, FamilyName
FROM PATIENT
WHERE Consultant = 'Mr Smith';
                </code></pre>
                
                <h3>SQL Example 2: Same list, but sorted</h3>
                <p>This SQL command sorts the records in alphabetical order of family name.</p>
                <pre><code>
SELECT HospitalNumber, FirstName, FamilyName
FROM PATIENT
WHERE Consultant = 'Mr Smith'
ORDER BY FamilyName;
                </code></pre>

            </div>
            
            <!-- Trang Bài tập (ĐÃ BỊ XÓA) -->

            <!-- 4. FOOTER -->
            <footer class="app-footer">
                Lecturer: Nguyễn Chí Cường
            </footer>
            
        </main>
    </div>

    <!-- 5. JAVASCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const chapterToggles = document.querySelectorAll('.nav-chapter-toggle');

            // --- Xử lý việc Bật/Tắt Menu con ---
            chapterToggles.forEach(toggle => {
                if (toggle.classList.contains('disabled')) {
                    return;
                }
                toggle.addEventListener('click', function() {
                    const submenu = this.nextElementSibling;
                    this.classList.toggle('active');
                    if (submenu.style.display === 'block') {
                        submenu.style.display = 'none';
                    } else {
                        submenu.style.display = 'block';
                    }
                });
            });
            
            // Tự động mở mục Chapter 9
            const ch9Toggle = document.getElementById('toggle-ch9');
            if(ch9Toggle) {
                ch9Toggle.click(); // Tự động mở menu Chapter 9
            }

        });
    </script>

</body>
</html>
